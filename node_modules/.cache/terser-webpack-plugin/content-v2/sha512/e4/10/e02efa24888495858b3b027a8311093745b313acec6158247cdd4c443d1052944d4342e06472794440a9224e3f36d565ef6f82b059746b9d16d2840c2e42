{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{sNdd:function(l,n,e){\"use strict\";e.r(n);var t=e(\"8Y7J\");class u{}var o=e(\"pMnS\"),i=e(\"SVse\"),a=e(\"s7LF\"),r=e(\"oveR\"),d=e(\"hNGQ\"),s=e(\"+dxm\"),p=e(\"jIY6\"),c=e(\"bl9C\");class m{constructor(l,n){this.formBuilder=l,this.http=n,this.showModuleDiv=!1,this.buttonText=\"Add\",this.buttonClass=\"btn btn-success\",this.columnDefs=[{headerName:\"Role Name\",field:\"role_name\"},{headerName:\"Notes\",field:\"support_notes\"},{headerName:\"Created On\",field:\"creation_date\"},{headerName:\"Created By\",field:\"created_by\"}]}ngOnInit(){console.log(\"In INIT Func \"+c.a.API_ENDPOINT),this.buttonText=\"Add\",this.appForm=this.formBuilder.group({role_name:[\"\",a.r.required],support_notes:[\"\",a.r.required],operation_type:\"\",role_key:\"0\",association:[]}),fetch(c.a.API_ENDPOINT+\"/admin_ctrl.php/getallroles\").then(l=>l.json()).then(l=>this.rowData=l),fetch(c.a.API_ENDPOINT+\"/admin_ctrl.php/getmodulesforroles\").then(l=>l.json()).then(l=>{this.modulesData=l})}get formControls(){return this.appForm.controls}onRowClicked(l){this.showModuleDiv=!0,this.formControls.role_name.setValue(l.data.role_name),this.formControls.support_notes.setValue(l.data.support_notes),this.formControls.role_key.setValue(l.data.role_key),console.log(\"row\",l),this.buttonText=\"Update\",this.buttonClass=\"btn btn-info\",this.modulesData.filter(l=>{1==l.checked&&(l.checked=0)}),this.http.get(c.a.API_ENDPOINT+\"/admin_ctrl.php/getrolemodules?rkey=\"+l.data.role_key).subscribe(l=>{const n=Object.values(l);for(let e of n)console.log(\"Each 11\"+JSON.stringify(e)),this.modulesData.filter(l=>l.module_key==e.module_key)[0].checked=1})}onGridReady(l){this.gridApi=l.api}addData(){\"Add\"==this.buttonText?this.formControls.operation_type.setValue(\"add\"):\"Update\"==this.buttonText&&this.formControls.operation_type.setValue(\"update\"),this.formControls.association.setValue(this.modulesData.filter(l=>1==l.checked)),console.log(\"Data is \"+JSON.stringify(this.appForm.value));var l=\"myData=\"+JSON.stringify(this.appForm.value);this.http.post(c.a.API_ENDPOINT+\"/admin_ctrl.php/addrole\",l,{headers:{\"Content-Type\":\"application/x-www-form-urlencoded; charset=UTF-8\"}}).subscribe(l=>{console.log(l),\"Add\"==this.buttonText?(this.formControls.role_key.setValue(l),this.rowData.push(this.appForm.value),this.gridApi.setRowData(this.rowData)):\"Update\"==this.buttonText&&(this.gridApi.getSelectedRows()[0].role_name=this.appForm.get(\"role_name\").value,this.gridApi.getSelectedRows()[0].support_notes=this.appForm.get(\"support_notes\").value,this.gridApi.setRowData(this.rowData))}),alert(this.buttonText+\" Operation Success..\")}enableModuleDiv(){this.showModuleDiv=!0,this.formControls.role_name.setValue(\"\"),this.formControls.support_notes.setValue(\"\"),this.modulesData.filter(l=>{1==l.checked&&(l.checked=0)}),this.buttonText=\"Add\",this.buttonClass=\"btn btn-success\"}chkboxHandle(l){l.checked=l.checked?0:1}}var g=e(\"IheW\"),h=t[\"\\u0275crt\"]({encapsulation:0,styles:[[\".form-group[_ngcontent-%COMP%]{margin-left:auto}.association[_ngcontent-%COMP%]{width:50%;height:auto;margin-left:10px;border:1px solid #000}\"]],data:{}});function f(l){return t[\"\\u0275vid\"](0,[(l()(),t[\"\\u0275eld\"](0,0,null,null,3,\"div\",[],null,null,null,null,null)),(l()(),t[\"\\u0275eld\"](1,0,null,null,0,\"input\",[[\"checked\",\"\"],[\"type\",\"checkbox\"]],[[8,\"id\",0]],[[null,\"change\"]],function(l,n,e){var t=!0;return\"change\"===n&&(t=!1!==l.component.chkboxHandle(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t[\"\\u0275ted\"](2,null,[\" \",\"\"])),t[\"\\u0275ppd\"](3,1)],null,function(l,n){l(n,1,0,t[\"\\u0275inlineInterpolate\"](1,\"\",n.parent.context.$implicit.module_key,\"\"));var e=t[\"\\u0275unv\"](n,2,0,l(n,3,0,t[\"\\u0275nov\"](n.parent.parent.parent,0),n.parent.context.$implicit.module_name));l(n,2,0,e)})}function v(l){return t[\"\\u0275vid\"](0,[(l()(),t[\"\\u0275eld\"](0,0,null,null,3,\"div\",[],null,null,null,null,null)),(l()(),t[\"\\u0275eld\"](1,0,null,null,0,\"input\",[[\"type\",\"checkbox\"]],[[8,\"id\",0]],[[null,\"change\"]],function(l,n,e){var t=!0;return\"change\"===n&&(t=!1!==l.component.chkboxHandle(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t[\"\\u0275ted\"](2,null,[\" \",\"\"])),t[\"\\u0275ppd\"](3,1)],null,function(l,n){l(n,1,0,t[\"\\u0275inlineInterpolate\"](1,\"\",n.parent.context.$implicit.module_key,\"\"));var e=t[\"\\u0275unv\"](n,2,0,l(n,3,0,t[\"\\u0275nov\"](n.parent.parent.parent,0),n.parent.context.$implicit.module_name));l(n,2,0,e)})}function b(l){return t[\"\\u0275vid\"](0,[(l()(),t[\"\\u0275eld\"](0,0,null,null,4,\"div\",[[\"style\",\" float:left; position:relative;padding-left: 5px\"]],null,null,null,null,null)),(l()(),t[\"\\u0275and\"](16777216,null,null,1,null,f)),t[\"\\u0275did\"](2,16384,null,0,i.l,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(l()(),t[\"\\u0275and\"](16777216,null,null,1,null,v)),t[\"\\u0275did\"](4,16384,null,0,i.l,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(l,n){l(n,2,0,n.context.$implicit.checked),l(n,4,0,!n.context.$implicit.checked)},null)}function C(l){return t[\"\\u0275vid\"](0,[(l()(),t[\"\\u0275eld\"](0,0,null,null,34,\"div\",[[\"class\",\"module\"]],null,null,null,null,null)),(l()(),t[\"\\u0275eld\"](1,0,null,null,33,\"form\",[[\"class\",\"form-group\"],[\"novalidate\",\"\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngSubmit\"],[null,\"submit\"],[null,\"reset\"]],function(l,n,e){var u=!0,o=l.component;return\"submit\"===n&&(u=!1!==t[\"\\u0275nov\"](l,3).onSubmit(e)&&u),\"reset\"===n&&(u=!1!==t[\"\\u0275nov\"](l,3).onReset()&&u),\"ngSubmit\"===n&&(u=!1!==o.login()&&u),u},null,null)),t[\"\\u0275did\"](2,16384,null,0,a.w,[],null,null),t[\"\\u0275did\"](3,540672,null,0,a.f,[[8,null],[8,null]],{form:[0,\"form\"]},{ngSubmit:\"ngSubmit\"}),t[\"\\u0275prd\"](2048,null,a.b,null,[a.f]),t[\"\\u0275did\"](5,16384,null,0,a.l,[[4,a.b]],null,null),(l()(),t[\"\\u0275eld\"](6,0,null,null,9,\"div\",[[\"class\",\"form-group row\"]],null,null,null,null,null)),(l()(),t[\"\\u0275eld\"](7,0,null,null,1,\"label\",[[\"for\",\"inputEmail4\"]],null,null,null,null,null)),(l()(),t[\"\\u0275ted\"](-1,null,[\"Role Name\"])),(l()(),t[\"\\u0275eld\"](9,0,null,null,6,\"div\",[[\"class\",\"col-sm-4\"]],null,null,null,null,null)),(l()(),t[\"\\u0275eld\"](10,0,null,null,5,\"input\",[[\"class\",\"form-control\"],[\"formControlName\",\"role_name\"],[\"placeholder\",\"\"],[\"type\",\"moduleName\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"input\"],[null,\"blur\"],[null,\"compositionstart\"],[null,\"compositionend\"]],function(l,n,e){var u=!0;return\"input\"===n&&(u=!1!==t[\"\\u0275nov\"](l,11)._handleInput(e.target.value)&&u),\"blur\"===n&&(u=!1!==t[\"\\u0275nov\"](l,11).onTouched()&&u),\"compositionstart\"===n&&(u=!1!==t[\"\\u0275nov\"](l,11)._compositionStart()&&u),\"compositionend\"===n&&(u=!1!==t[\"\\u0275nov\"](l,11)._compositionEnd(e.target.value)&&u),u},null,null)),t[\"\\u0275did\"](11,16384,null,0,a.c,[t.Renderer2,t.ElementRef,[2,a.a]],null,null),t[\"\\u0275prd\"](1024,null,a.i,function(l){return[l]},[a.c]),t[\"\\u0275did\"](13,671744,null,0,a.e,[[3,a.b],[8,null],[8,null],[6,a.i],[2,a.u]],{name:[0,\"name\"]},null),t[\"\\u0275prd\"](2048,null,a.j,null,[a.e]),t[\"\\u0275did\"](15,16384,null,0,a.k,[[4,a.j]],null,null),(l()(),t[\"\\u0275eld\"](16,0,null,null,9,\"div\",[[\"class\",\"form-group row\"]],null,null,null,null,null)),(l()(),t[\"\\u0275eld\"](17,0,null,null,1,\"label\",[[\"for\",\"inputEmail4\"]],null,null,null,null,null)),(l()(),t[\"\\u0275ted\"](-1,null,[\"Support Notes\"])),(l()(),t[\"\\u0275eld\"](19,0,null,null,6,\"div\",[[\"class\",\"col-sm-4\"]],null,null,null,null,null)),(l()(),t[\"\\u0275eld\"](20,0,null,null,5,\"input\",[[\"class\",\"form-control\"],[\"formControlName\",\"support_notes\"],[\"placeholder\",\"\"],[\"type\",\"supportNotes\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"input\"],[null,\"blur\"],[null,\"compositionstart\"],[null,\"compositionend\"]],function(l,n,e){var u=!0;return\"input\"===n&&(u=!1!==t[\"\\u0275nov\"](l,21)._handleInput(e.target.value)&&u),\"blur\"===n&&(u=!1!==t[\"\\u0275nov\"](l,21).onTouched()&&u),\"compositionstart\"===n&&(u=!1!==t[\"\\u0275nov\"](l,21)._compositionStart()&&u),\"compositionend\"===n&&(u=!1!==t[\"\\u0275nov\"](l,21)._compositionEnd(e.target.value)&&u),u},null,null)),t[\"\\u0275did\"](21,16384,null,0,a.c,[t.Renderer2,t.ElementRef,[2,a.a]],null,null),t[\"\\u0275prd\"](1024,null,a.i,function(l){return[l]},[a.c]),t[\"\\u0275did\"](23,671744,null,0,a.e,[[3,a.b],[8,null],[8,null],[6,a.i],[2,a.u]],{name:[0,\"name\"]},null),t[\"\\u0275prd\"](2048,null,a.j,null,[a.e]),t[\"\\u0275did\"](25,16384,null,0,a.k,[[4,a.j]],null,null),(l()(),t[\"\\u0275eld\"](26,0,null,null,5,\"div\",[[\"class\",\"form-group row\"]],null,null,null,null,null)),(l()(),t[\"\\u0275eld\"](27,0,null,null,1,\"label\",[[\"for\",\"inputEmail4\"]],null,null,null,null,null)),(l()(),t[\"\\u0275ted\"](-1,null,[\"Association\"])),(l()(),t[\"\\u0275eld\"](29,0,null,null,2,\"div\",[[\"class\",\"association\"]],null,null,null,null,null)),(l()(),t[\"\\u0275and\"](16777216,null,null,1,null,b)),t[\"\\u0275did\"](31,278528,null,0,i.k,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),(l()(),t[\"\\u0275eld\"](32,0,null,null,2,\"div\",[],null,null,null,null,null)),(l()(),t[\"\\u0275eld\"](33,0,null,null,1,\"button\",[[\"type\",\"button\"]],[[8,\"className\",0]],[[null,\"click\"]],function(l,n,e){var t=!0;return\"click\"===n&&(t=!1!==l.component.addData()&&t),t},null,null)),(l()(),t[\"\\u0275ted\"](34,null,[\" \",\" \"]))],function(l,n){var e=n.component;l(n,3,0,e.appForm),l(n,13,0,\"role_name\"),l(n,23,0,\"support_notes\"),l(n,31,0,e.modulesData)},function(l,n){var e=n.component;l(n,1,0,t[\"\\u0275nov\"](n,5).ngClassUntouched,t[\"\\u0275nov\"](n,5).ngClassTouched,t[\"\\u0275nov\"](n,5).ngClassPristine,t[\"\\u0275nov\"](n,5).ngClassDirty,t[\"\\u0275nov\"](n,5).ngClassValid,t[\"\\u0275nov\"](n,5).ngClassInvalid,t[\"\\u0275nov\"](n,5).ngClassPending),l(n,10,0,t[\"\\u0275nov\"](n,15).ngClassUntouched,t[\"\\u0275nov\"](n,15).ngClassTouched,t[\"\\u0275nov\"](n,15).ngClassPristine,t[\"\\u0275nov\"](n,15).ngClassDirty,t[\"\\u0275nov\"](n,15).ngClassValid,t[\"\\u0275nov\"](n,15).ngClassInvalid,t[\"\\u0275nov\"](n,15).ngClassPending),l(n,20,0,t[\"\\u0275nov\"](n,25).ngClassUntouched,t[\"\\u0275nov\"](n,25).ngClassTouched,t[\"\\u0275nov\"](n,25).ngClassPristine,t[\"\\u0275nov\"](n,25).ngClassDirty,t[\"\\u0275nov\"](n,25).ngClassValid,t[\"\\u0275nov\"](n,25).ngClassInvalid,t[\"\\u0275nov\"](n,25).ngClassPending),l(n,33,0,t[\"\\u0275inlineInterpolate\"](1,\"\",e.buttonClass,\"\")),l(n,34,0,e.buttonText)})}function w(l){return t[\"\\u0275vid\"](0,[t[\"\\u0275pid\"](0,i.s,[]),(l()(),t[\"\\u0275eld\"](1,0,null,null,12,\"div\",[],null,null,null,null,null)),(l()(),t[\"\\u0275eld\"](2,0,null,null,3,\"div\",[[\"class\",\"form-group row\"],[\"style\",\"margin-left:730px\"]],null,null,null,null,null)),(l()(),t[\"\\u0275eld\"](3,0,null,null,2,\"button\",[[\"class\",\"btn btn-success\"],[\"type\",\"button\"]],null,[[null,\"click\"]],function(l,n,e){var t=!0;return\"click\"===n&&(t=!1!==l.component.enableModuleDiv()&&t),t},null,null)),(l()(),t[\"\\u0275eld\"](4,0,null,null,0,\"span\",[[\"class\",\"glyphicon glyphicon-plus\"]],null,null,null,null,null)),(l()(),t[\"\\u0275ted\"](-1,null,[\" Add Role \"])),(l()(),t[\"\\u0275eld\"](6,0,null,null,5,\"div\",[[\"class\",\"form-group row\"]],null,null,null,null,null)),(l()(),t[\"\\u0275eld\"](7,16777216,null,null,4,\"ag-grid-angular\",[[\"class\",\"ag-theme-fresh\"],[\"enableColResize\",\"\"],[\"rowSelection\",\"single\"],[\"style\",\"width: 820px; height: 200px;\"]],null,[[null,\"rowClicked\"],[null,\"gridReady\"]],function(l,n,e){var t=!0,u=l.component;return\"rowClicked\"===n&&(t=!1!==u.onRowClicked(e)&&t),\"gridReady\"===n&&(t=!1!==u.onGridReady(e)&&t),t},r.b,r.a)),t[\"\\u0275prd\"](512,null,d.AngularFrameworkOverrides,d.AngularFrameworkOverrides,[t.NgZone]),t[\"\\u0275prd\"](512,null,s.AngularFrameworkComponentWrapper,s.AngularFrameworkComponentWrapper,[]),t[\"\\u0275did\"](10,4898816,null,1,p.AgGridAngular,[t.ElementRef,t.ViewContainerRef,d.AngularFrameworkOverrides,s.AngularFrameworkComponentWrapper,t.ComponentFactoryResolver],{rowData:[0,\"rowData\"],columnDefs:[1,\"columnDefs\"],rowSelection:[2,\"rowSelection\"],paginationPageSize:[3,\"paginationPageSize\"],enableColResize:[4,\"enableColResize\"],enableSorting:[5,\"enableSorting\"],enableFilter:[6,\"enableFilter\"],pagination:[7,\"pagination\"]},{rowClicked:\"rowClicked\",gridReady:\"gridReady\"}),t[\"\\u0275qud\"](603979776,1,{columns:1}),(l()(),t[\"\\u0275and\"](16777216,null,null,1,null,C)),t[\"\\u0275did\"](13,16384,null,0,i.l,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(l,n){var e=n.component;l(n,10,0,e.rowData,e.columnDefs,\"single\",6,\"\",!0,!0,!0),l(n,13,0,e.showModuleDiv)},null)}function _(l){return t[\"\\u0275vid\"](0,[(l()(),t[\"\\u0275eld\"](0,0,null,null,1,\"app-approles\",[],null,null,null,w,h)),t[\"\\u0275did\"](1,114688,null,0,m,[a.d,g.c],null,null)],function(l,n){l(n,1,0)},null)}var k=t[\"\\u0275ccf\"](\"app-approles\",m,_,{},{},[]),y=e(\"iInd\");class R{}var D=e(\"SXLW\");e.d(n,\"ApprolesModuleNgFactory\",function(){return I});var I=t[\"\\u0275cmf\"](u,[],function(l){return t[\"\\u0275mod\"]([t[\"\\u0275mpd\"](512,t.ComponentFactoryResolver,t[\"\\u0275CodegenComponentFactoryResolver\"],[[8,[o.a,k]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t[\"\\u0275mpd\"](4608,i.n,i.m,[t.LOCALE_ID,[2,i.C]]),t[\"\\u0275mpd\"](4608,a.t,a.t,[]),t[\"\\u0275mpd\"](4608,a.d,a.d,[]),t[\"\\u0275mpd\"](4608,g.h,g.n,[i.c,t.PLATFORM_ID,g.l]),t[\"\\u0275mpd\"](4608,g.o,g.o,[g.h,g.m]),t[\"\\u0275mpd\"](5120,g.a,function(l){return[l]},[g.o]),t[\"\\u0275mpd\"](4608,g.k,g.k,[]),t[\"\\u0275mpd\"](6144,g.i,null,[g.k]),t[\"\\u0275mpd\"](4608,g.g,g.g,[g.i]),t[\"\\u0275mpd\"](6144,g.b,null,[g.g]),t[\"\\u0275mpd\"](4608,g.f,g.j,[g.b,t.Injector]),t[\"\\u0275mpd\"](4608,g.c,g.c,[g.f]),t[\"\\u0275mpd\"](1073742336,i.b,i.b,[]),t[\"\\u0275mpd\"](1073742336,y.p,y.p,[[2,y.u],[2,y.l]]),t[\"\\u0275mpd\"](1073742336,R,R,[]),t[\"\\u0275mpd\"](1073742336,D.AgGridModule,D.AgGridModule,[]),t[\"\\u0275mpd\"](1073742336,a.s,a.s,[]),t[\"\\u0275mpd\"](1073742336,a.g,a.g,[]),t[\"\\u0275mpd\"](1073742336,a.q,a.q,[]),t[\"\\u0275mpd\"](1073742336,g.e,g.e,[]),t[\"\\u0275mpd\"](1073742336,g.d,g.d,[]),t[\"\\u0275mpd\"](1073742336,u,u,[]),t[\"\\u0275mpd\"](1024,y.j,function(){return[[{path:\"\",component:m}]]},[]),t[\"\\u0275mpd\"](256,g.l,\"XSRF-TOKEN\",[]),t[\"\\u0275mpd\"](256,g.m,\"X-XSRF-TOKEN\",[])])})}}]);","extractedComments":[]}